<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Профиль - OshEstate</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- PRO STYLES (Clean version) --- */
        body { background-color: #f8f9fa; }

        .profile-section {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        /* Карточка профиля */
        .profile-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.03);
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border: 1px solid #f0f0f0;
        }
        
        /* Фон сверху */
        .profile-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 90px;
            background: linear-gradient(135deg, #e74c3c, #c0392b); /* Красный брендовый */
            z-index: 0;
        }

        .user-avatar-container {
            position: relative; z-index: 1;
            margin-top: 30px;
            display: inline-block;
        }
        
        .user-avatar {
            width: 110px; height: 110px;
            background: white; color: #2c3e50;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 45px;
            border: 5px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .user-info { position: relative; z-index: 1; margin-top: 15px; }
        .user-name { font-size: 1.6rem; font-weight: 800; color: #2c3e50; margin: 0; }
        .user-contact { color: #7f8c8d; font-size: 1rem; margin-top: 5px; font-weight: 500; }
        
        .btn-settings-icon {
            position: absolute; top: 20px; right: 20px;
            background: rgba(255,255,255,0.3); color: white;
            border: none; width: 40px; height: 40px; border-radius: 50%;
            cursor: pointer; z-index: 2; transition: 0.2s;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem;
        }
        .btn-settings-icon:hover { background: white; color: #e74c3c; }

        /* Вкладки */
        .tabs-container {
            background: white;
            border-radius: 12px;
            padding: 5px;
            display: flex;
            box-shadow: 0 2px 10px rgba(0,0,0,0.02);
            margin-bottom: 25px;
        }
        .tab-btn {
            flex: 1;
            border: none; background: none;
            padding: 12px;
            font-size: 1rem; font-weight: 600; color: #95a5a6;
            cursor: pointer; border-radius: 8px;
            transition: 0.3s;
        }
        .tab-btn.active {
            background: #fdf2f2; color: #e74c3c; /* Активная вкладка красная */
        }

        /* Карточка объявления */
        .my-ad-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            display: flex; gap: 15px;
            margin-bottom: 20px;
            border: 1px solid #f0f0f0;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .my-ad-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        .my-ad-img {
            width: 120px; height: 100px; object-fit: cover; border-radius: 8px;
        }
        .my-ad-content { flex: 1; display: flex; flex-direction: column; justify-content: center; }
        
        .my-ad-price { font-size: 1.2rem; font-weight: 800; color: #2c3e50; }
        .my-ad-title { font-size: 0.9rem; color: #555; margin: 4px 0 8px 0; line-height: 1.3; }
        
        .ad-footer {
            display: flex; justify-content: space-between; align-items: center;
            margin-top: auto;
        }
        .ad-stats { font-size: 0.8rem; color: #bdc3c7; display: flex; gap: 10px; }
        .ad-stats i { margin-right: 3px; }

        .ad-actions-row { display: flex; gap: 8px; }
        .btn-mini-action {
            width: 32px; height: 32px; border-radius: 6px; border: none;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.2s;
        }
        .btn-edit { background: #f0f3f4; color: #2c3e50; }
        .btn-edit:hover { background: #d5dbdb; }
        .btn-del { background: #fdedec; color: #e74c3c; }
        .btn-del:hover { background: #fadbd8; }

        /* Модальные окна */
        .modal {
            display: none; position: fixed; z-index: 2000; left: 0; top: 0;
            width: 100%; height: 100%; background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(3px);
            align-items: center; justify-content: center;
        }
        .modal-content {
            background: white; padding: 30px; border-radius: 16px;
            width: 90%; max-width: 400px; position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            animation: slideUp 0.3s ease;
        }
        @keyframes slideUp { from {transform: translateY(20px); opacity: 0;} to {transform: translateY(0); opacity: 1;} }
        
        .modal-input {
            width: 100%; padding: 12px 15px; margin: 10px 0; 
            border: 2px solid #f0f2f5; border-radius: 8px;
            font-size: 1rem; transition: 0.2s;
        }
        .modal-input:focus { border-color: #e74c3c; outline: none; }

        @media (max-width: 600px) {
            .my-ad-card { flex-direction: column; }
            .my-ad-img { width: 100%; height: 180px; }
            .ad-footer { margin-top: 15px; }
        }
    </style>
</head>
<body data-page="profile">

    <nav class="navbar">
        <div class="container nav-content">
            <a href="index.html" class="logo">Osh<span>Estate</span></a>
            <ul class="nav-links" id="nav-links-container"></ul>
            <div class="menu-toggle"><i class="fas fa-bars"></i></div>
        </div>
    </nav>

    <div class="container profile-section section">
        
        <div id="profileHeader">
            </div>

        <div class="tabs-container">
            <button class="tab-btn active" onclick="switchTab('active')">Активные</button>
            <button class="tab-btn" onclick="switchTab('pending')">На проверке</button>
        </div>

        <div id="myAdsList">
            </div>

    </div>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeEditModal()" style="position:absolute; right:20px; top:15px; cursor:pointer; font-size:24px; color:#ccc;">&times;</span>
            <h3 style="margin-top:0;">Изменить объявление</h3>
            
            <label style="font-size:0.8rem; color:#888; font-weight:bold;">ЦЕНА</label>
            <input type="number" id="editPrice" class="modal-input">
            
            <label style="font-size:0.8rem; color:#888; font-weight:bold;">АДРЕС</label>
            <input type="text" id="editAddress" class="modal-input">

            <label style="font-size:0.8rem; color:#888; font-weight:bold;">ОПИСАНИЕ</label>
            <textarea id="editDesc" class="modal-input" rows="4"></textarea>
            
            <input type="hidden" id="editAdId">

            <button onclick="saveEditedAd()" class="btn-submit" style="width:100%; margin-top:10px;">Сохранить изменения</button>
        </div>
    </div>

    <div id="settingsModal" class="modal">
        <div class="modal-content" style="text-align:center;">
            <span class="close-modal" onclick="document.getElementById('settingsModal').style.display='none'" style="position:absolute; right:20px; top:15px; cursor:pointer; font-size:24px; color:#ccc;">&times;</span>
            <h3 style="margin-top:0;">Настройки</h3>
            
            <input type="text" id="editProfileName" class="modal-input" placeholder="Ваше имя" style="text-align:center;">
            
            <button onclick="saveProfileSettings()" class="btn-submit" style="width:100%; margin-top:10px;">Сохранить имя</button>
            
            <div style="margin-top:20px; padding-top:20px; border-top:1px solid #eee;">
                <button onclick="logoutProfile()" style="background:none; border:none; color:#e74c3c; font-weight:bold; cursor:pointer; font-size:1rem;">
                    Выйти из аккаунта
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>